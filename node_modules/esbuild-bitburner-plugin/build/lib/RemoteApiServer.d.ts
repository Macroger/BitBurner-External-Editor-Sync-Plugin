import { RemoteFileMirror } from './RemoteFileMirror';
import { connection, type request, server as WebSocketServer } from 'websocket';
import { BitburnerPluginOptions } from '../types';
export declare class RemoteApiServer extends WebSocketServer {
    #private;
    options: BitburnerPluginOptions;
    connection: connection | undefined;
    connected: Promise<void>;
    constructor(options: BitburnerPluginOptions);
    on(event: 'request', cb: (request: request) => void): this;
    on(event: 'connect', cb: (connection: connection) => void): this;
    on(event: 'close', cb: (connection: connection, reason: number, desc: string) => void): this;
    on(event: 'client-connected', cb: () => void): this;
    createMessageId(): number;
    listen(port: number, callback: () => void): void;
    mirror(targetPath: string, servers: NonNullable<BitburnerPluginOptions['mirror']>[string]): Promise<RemoteFileMirror>;
    distribute(targetPath: string, to: NonNullable<BitburnerPluginOptions['mirror']>[string]): () => void;
    write(obj: Record<string, any>): Promise<{
        result: any;
    }>;
    getDefinitionFile(): Promise<{
        result: any;
    }>;
    pushFile({ filename, content, server }: {
        filename: string;
        content: string;
        server: string;
    }): Promise<{
        result: any;
    }>;
    getFile({ filename, server }: {
        filename: string;
        server: string;
    }): Promise<{
        result: any;
    }>;
    getFileNames(server: string): Promise<{
        result: any;
    }>;
    getAllFiles(server: string): Promise<{
        result: any;
    }>;
    deleteFile({ filename, server }: {
        filename: string;
        server: string;
    }): Promise<{
        result: any;
    }>;
    calculateRAM({ filename, server }: {
        filename: string;
        server: string;
    }): Promise<{
        result: any;
    }>;
    getAllServers(): Promise<{
        result: any;
    }>;
}
export declare function setupRemoteApi(opts: BitburnerPluginOptions): RemoteApiServer;
